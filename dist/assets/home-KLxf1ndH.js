import{w,a,p as e}from"./chunk-PVWAREVJ-5q7UTObr.js";import{u as v}from"./cart-context-CrsLAd5G.js";const k=w(function(){const[l,g]=a.useState([]),[i,o]=a.useState([]),[u,p]=a.useState([]),[s,n]=a.useState("all"),[f,c]=a.useState(!0),[d,b]=a.useState(null),{addToCart:j,cart:N}=v();a.useEffect(()=>{(async()=>{try{c(!0);const r=await fetch("https://fakestoreapi.com/products");if(!r.ok)throw new Error("Failed to fetch products");const h=await r.json(),m=await fetch("https://fakestoreapi.com/products/categories");if(!m.ok)throw new Error("Failed to fetch categories");const y=await m.json();g(h),o(h),p(y)}catch(r){b(r instanceof Error?r.message:"An unknown error occurred")}finally{c(!1)}})()},[]),a.useEffect(()=>{o(s==="all"?l:l.filter(t=>t.category===s))},[s,l]);const x=t=>N.some(r=>r.id===t);return f?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900"})}):d?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsxs("div",{className:"text-red-500 bg-red-100 p-4 rounded",children:["Error: ",d]})}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-8 mb-12 text-center text-white shadow-lg",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to ShopCart"}),e.jsx("p",{className:"text-xl mb-6",children:"Your one-stop destination for online shopping"}),e.jsxs("p",{className:"text-lg opacity-90",children:[l.length," amazing products waiting for you"]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Shop by Category"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-full transition duration-200 ${s==="all"?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"All Products"}),u.map(t=>e.jsx("button",{onClick:()=>n(t),className:`px-4 py-2 rounded-full capitalize transition duration-200 ${s===t?"bg-blue-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:t},t))]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold",children:s==="all"?"All Products":s.charAt(0).toUpperCase()+s.slice(1)}),e.jsxs("p",{className:"text-gray-600",children:[i.length," ",i.length===1?"product":"products"," available"]})]}),i.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500 text-xl",children:"No products found in this category"})}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(t=>e.jsxs("div",{className:"border rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow bg-white",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-48 object-contain p-4"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-2",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm mb-2 capitalize",children:t.category}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"font-bold text-lg",children:["$",t.price.toFixed(2)]}),e.jsx("button",{onClick:()=>j({id:t.id,title:t.title,price:t.price,image:t.image}),className:`font-bold py-2 px-4 rounded transition duration-200 ${x(t.id)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:x(t.id)?"Added":"Add to Cart"})]})]})]},t.id))})]})});export{k as default};
